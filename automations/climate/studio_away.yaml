---
id: '182283954575992'
alias: Climate - Studio - Away Mode On
initial_state: 'on'
trigger:
  - platform: homeassistant
    event: start
  - platform: state
    entity_id: group.family
    to: 'not_home'
  - platform: state
    entity_id: input_boolean.guest_mode
    to: 'off'
  - platform: state
    entity_id: input_boolean.climate_studio_heating_push
    to: 'off'
  - platform: state
    entity_id: climate.studio
    attribute: preset_mode
    to: 'away'
condition:
  condition: or
  conditions:
    - condition: and
      conditions:
        - condition: state
          entity_id: input_boolean.climate_studio_heating_push
          state: 'off'
        - condition: state
          entity_id: group.family
          state: 'not_home'
        - condition: state
          entity_id: input_boolean.guest_mode
          state: 'off'
    - condition: state
      entity_id: climate.studio
      attribute: preset_mode
      state: 'away'
action:
  - service: homeassistant.turn_off
    entity_id: group.climate_studio_active
  - service: climate.set_preset_mode
    data:
      entity_id: climate.studio
      preset_mode: away
  - service: input_select.select_option
    data:
      entity_id: input_select.climate_studio
      option: "Away"
