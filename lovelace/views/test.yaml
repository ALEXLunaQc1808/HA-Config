title: Test
icon: mdi:tune
panel: true
path: test
animated_background: background_test
cards:
  - type: custom:layout-card
    layout: vertical
    cards:
      - type: entities
        show_header_toggle: false
        entities:
          - input_select.background_test
      - type: custom:time-picker-card
        entity: input_datetime.climate_bedroom_luca_weekend_t1_start
        name: Bedroom Luca - Weekend T1 Start
        hour_mode: 24
        hour_step: 1
        minute_step: 1
        layout:
          name: inside
          align_controls: right
        hide:
          name: false
      - type: light
        entity: light.master_bedroom_bed_led
      - type: entities
        show_header_toggle: false
        entities:
          - sensor.master_bedroom_bed_led_estimated_current
          - sensor.master_bedroom_bed_led_free_memory
          - switch.master_bedroom_bed_led_nightlight
          - switch.master_bedroom_bed_led_sync_receive
          - switch.master_bedroom_bed_led_sync_send
          - sensor.master_bedroom_bed_led_uptime
          - sensor.master_bedroom_bed_led_wi_fi_bssid
          - sensor.master_bedroom_bed_led_wi_fi_channel
          - sensor.master_bedroom_bed_led_wi_fi_rssi
          - sensor.master_bedroom_bed_led_wi_fi_signal
      - break
      - type: entities
        title: Studio
        show_header_toggle: false
        entities:
        ## USE THIS CONFIG TO HAVE IT MATCH YOUR THEME ##
          - type: custom:light-brightness-preset-row
            entity: light.studio_wall_light
            name: Wall Light
            customSetpoints: true
            LowBrightness: 30
            MedBrightness: 100
            HiBrightness: 225
            customTheme: true
            IsOnLowColor: 'rgb(255, 0, 0)'
            IsOnMedColor: '#888888'
            IsOnHiColor: '#222222'
            ButtonInactiveColor: '#aaaaaa'
            IsOffColor: 'purple'
          - type: custom:light-brightness-preset-row
            entity: light.studio_wall_light
            name: Wall Light
            customTheme: false
            customSetpoints: false
          - type: custom:binary-control-button-row
            entity: light.studio_wall_light
            name: Wall Light
            customTheme: true
            IsOnColor: 'rgb(255, 0, 0)'
            IsOffColor: 'purple'
            ButtonInactiveColor: '#aaaaaa'
      - break
      - type: entities
        show_header_toggle: false
        entities:
          - entity: sensor.andrea_oneplus5_gps
          - entity: sensor.sonia_mi9tpro_gps
          - entity: sensor.sonia_honor8_gps
      - type: history-graph
        title:
        hours_to_show: 24
        refresh_interval: 15
        entities:
          - person.andrea_iannucci
          - person.sonia_espejo_brea
      - break
      - type: custom:stack-in-card
        mode: vertical
        cards:
          - type: custom:decluttering-card
            template: title
            variables:
              - title: Phones
          - type: custom:battery-state-card
            color_thresholds:
              - value: "unknown"
                color: "#808080"
              - value: 20
                color: "#990000"
              - value: 40
                color: "#CC6600"
              - value: 60
                color: "#FF8000"
              - value: 80
                color: "#009900"
              - value: 100
                color: "#009933"
            entities:
              - entity: sensor.andrea_oneplus5_battery
                name: "Andrea - OnePlus 5"
                charging_state:
                  entity_id: sensor.andrea_oneplus5_charging
                  state: "charging"
              - entity: sensor.andrea_honor8_battery
                name: "Andrea - Honor 8"
                charging_state:
                  entity_id: binary_sensor.andrea_honor8_charging
                  state: "on"
              - entity: sensor.andrea_xt1032_battery
                name: "Andrea - Motorola XT1032"
                charging_state:
                  entity_id: input_boolean.andrea_xt1032_charging
                  state: "on"
              - entity: sensor.sonia_mi9tpro_battery
                name: "Sonia - Mi 9T Pro"
                charging_state:
                  entity_id: input_boolean.sonia_mi9tpro_charging
                  state: "on"
              - entity: sensor.sonia_honor8_battery
                name: "Sonia - Honor 8"
                charging_state:
                  entity_id: binary_sensor.sonia_honor8_charging
                  state: "on"
      - type: custom:stack-in-card
        mode: vertical
        cards:
          - type: custom:decluttering-card
            template: title
            variables:
              - title: Tablets
          - type: custom:battery-state-card
            color_thresholds:
              - value: "unknown"
                color: "#808080"
              - value: 20
                color: "#990000"
              - value: 40
                color: "#CC6600"
              - value: 60
                color: "#FF8000"
              - value: 80
                color: "#009900"
              - value: 100
                color: "#009933"
            entities:
              - entity: sensor.andrea_shield_battery
                name: "Andrea - NVIDIA Shield K1"
                charging_state:
                  entity_id: input_boolean.andrea_shield_charging
                  state: "on"

#      - break
      # - type: vertical-stack
      #   cards:
      #     - type: 'custom:config-template-card'
      #       variables:
      #         - states['sensor.andrea_bedside_lamp_status'].attributes['MqttCount']
      #         - states['sensor.andrea_bedside_lamp_status'].attributes['WiFi LinkCount']
      #         - states['sensor.andrea_bedside_lamp_status'].state
      #         - states['sensor.sonia_bedside_lamp_status'].attributes['MqttCount']
      #         - states['sensor.sonia_bedside_lamp_status'].attributes['WiFi LinkCount']
      #         - states['sensor.sonia_bedside_lamp_status'].state
      #         - states['sensor.desk_lamp_status'].attributes['MqttCount']
      #         - states['sensor.desk_lamp_status'].attributes['WiFi LinkCount']
      #         - states['sensor.desk_lamp_status'].state
      #         - states['sensor.rf_bridge_status'].attributes['MqttCount']
      #         - states['sensor.rf_bridge_status'].attributes['WiFi LinkCount']
      #         - states['sensor.rf_bridge_status'].state
      #       entities:
      #         - sensor.andrea_bedside_lamp_status
      #         - sensor.sonia_bedside_lamp_status
      #         - sensor.desk_lamp_status
      #         - sensor.rf_bridge_status
      #       card:
      #         type: 'custom:hui-entities-card'
      #         title: MQTT & Wifi Connections
      #         show_header_toggle: false
      #         entities:
      #           - entity: sensor.andrea_bedside_lamp_status
      #             name: "${'Coffee' + '\xa0'.repeat(16) + 'MQTT ' + states['vars[0]'].state + '\xa0'.repeat(4) + 'WiFi ' + vars[1] + '\xa0'.repeat(3) + ((parseInt(vars[2]) / 2) - 100 ) + '\xa0' + 'dBm' + '\xa0'.repeat(3) + ( vars[2] >= 100 ? 'Excellent' : vars[2] >= 80 ? 'Good' : vars[2] >= 60 ? 'Fair' : 'Weak' )}"
      #             icon: "${vars[2] >= 100 ? 'mdi:wifi' : vars[2] >= 80 ? 'mdi:wifi-strength-3' : vars[2] >= 60 ? 'mdi:wifi-strength-2' : 'mdi:wifi-strength-1' }"
      #           - entity: sensor.sonia_bedside_lamp_status
      #             name: "${'Toothbrush' + '\xa0'.repeat(7) + 'MQTT ' + vars[3] + '\xa0'.repeat(4) + 'WiFi ' + vars[4] + '\xa0'.repeat(3) + ((parseInt(vars[5]) / 2) - 100 ) + '\xa0' +  'dBm' + '\xa0'.repeat(3) + ( vars[5] >= 100 ? 'Excellent' : vars[5] >= 80 ? 'Good' : vars[5] >= 60 ? 'Fair' : 'Weak' )}"
      #             icon: "${vars[5] >= 100 ? 'mdi:wifi' : vars[5] >= 80 ? 'mdi:wifi-strength-3' : vars[5] >= 60 ? 'mdi:wifi-strength-2' : 'mdi:wifi-strength-1' }"
      #           - entity: sensor.desk_lamp_status
      #             name: "${'Garage' + '\xa0'.repeat(15) + 'MQTT ' + vars[6] + '\xa0'.repeat(4) + 'WiFi ' + vars[7] + '\xa0'.repeat(3) + ((parseInt(vars[8]) / 2) - 100 ) + '\xa0' +  'dBm' + '\xa0'.repeat(3) + ( vars[8] >= 100 ? 'Excellent' : vars[8] >= 80 ? 'Good' : vars[8] >= 60 ? 'Fair' : 'Weak' )}"
      #             icon: "${vars[8] >= 100 ? 'mdi:wifi' : vars[8] >= 80 ? 'mdi:wifi-strength-3' : vars[8] >= 60 ? 'mdi:wifi-strength-2' : 'mdi:wifi-strength-1' }"
      #           - entity: sensor.rf_bridge_status
      #             name: "${'Alarm' + '\xa0'.repeat(17) + 'MQTT ' + vars[9] + '\xa0'.repeat(4) + 'WiFi ' + vars[10] + '\xa0'.repeat(3) + ((parseInt(vars[11]) / 2) - 100 ) + '\xa0' +  'dBm' + '\xa0'.repeat(3) + ( vars[11] >= 100 ? 'Excellent' : vars[11] >= 80 ? 'Good' : vars[11] >= 60 ? 'Fair' : 'Weak' )}"
      #             icon: "${vars[11] >= 100 ? 'mdi:wifi' : vars[11] >= 80 ? 'mdi:wifi-strength-3' : vars[11] >= 60 ? 'mdi:wifi-strength-2' : 'mdi:wifi-strength-1' }"
      # - type: horizontal-stack
      #   cards:
      #     - type: custom:garbage-collection-card
      #       entity: sensor.waste
      #     - type: custom:garbage-collection-card
      #       entity: sensor.bio_waste
