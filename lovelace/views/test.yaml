title: Test
icon: mdi:tune
path: test
type: custom:vertical-layout
layout:
   max_cols: 5
cards:
#  - type: custom:decluttering-card
#    template: house_humidity_apex
#  - type: custom:layout-break
#  - type: custom:decluttering-card
#    template: house_energy_apex
#  - type: custom:layout-break
#      - type: custom:decluttering-card
#        template: house_energy
#      - type: custom:layout-break
  - type: custom:stack-in-card
    mode: vertical
    cards:
      - type: custom:decluttering-card
        template: title
        variables:
          - title: "Device Trackers"
      - type: custom:logbook-card
        title: "Andrea - GPSLogger"
        entity: device_tracker.andrea_oneplus_nord_gpslogger
        max_items: 5
        date_format: dd/MM/YYYY hh:mm
        show:
          state: true
          duration: true
          end_date: false
          start_date: true
          icon: false
          separator: false
      - type: custom:logbook-card
        title: "Andrea - HA App"
        entity: device_tracker.andrea_oneplus_nord
        max_items: 5
        date_format: dd/MM/YYYY hh:mm
        show:
          state: true
          duration: true
          end_date: false
          start_date: true
          icon: false
          separator: false
      - type: custom:logbook-card
        title: "Sonia - HA App"
        entity: device_tracker.sonia_mi_9t_pro
        max_items: 5
        date_format: dd/MM/YYYY hh:mm
        show:
          state: true
          duration: true
          end_date: false
          start_date: true
          icon: false
          separator: false
  - type: custom:layout-break
  - type: entities
    show_header_toggle: false
    entities:
      - entity: sensor.andrea_oneplus_nord_gps
#          - entity: sensor.andrea_oneplus_nord_gpslogger_gps
      - entity: sensor.sonia_mi_9t_pro_gps
  - type: history-graph
    title:
    hours_to_show: 24
    refresh_interval: 15
    entities:
      - entity: person.andrea
        name: Andrea
      - entity: device_tracker.andrea_oneplus_nord
        name: HA App
      - entity: device_tracker.andrea_oneplus_nord_bt
        name: Bluetooth
#          - entity: device_tracker.andrea_oneplus_nord_gpslogger
#            name: GPSLogger
      - entity: person.sonia
        name: Sonia
      - entity: device_tracker.sonia_mi_9t_pro
        name: HA App
      - entity: device_tracker.sonia_mi_9t_pro_bt
        name: Bluetooth
  - type: horizontal-stack
    cards:
    ####################################
    ####  == OnePlus Nord Card ==   ####
    ####################################
      - type: 'custom:button-card'
        entity: sensor.andrea_oneplus_nord_battery_level
        entity_picture: /local/oneplus_nord.png
        show_entity_picture: true
        aspect_ratio: 1/1
        name: OnePlus Nord
        styles:
          card:
#                - background-color: '#2b374e'
            - border-radius: 10%
            - padding: 7%
            - color: ivory
            - font-size: 10px
            - text-shadow: 0px 0px 5px black
            - text-transform: capitalize
          grid:
            - grid-template-areas: '"i temp" "n n" "bluetooth bluetooth" "wifi wifi" "charging charging"'
            - grid-template-columns: 1fr 1fr
            - grid-template-rows: 1fr min-content min-content min-content min-content
          name:
            - font-weight: bold
            - font-size: 15px
            - color: white
            - align-self: middle
            - justify-self: start
            - padding-bottom: 6px
          img_cell:
            - justify-content: start
            - align-items: start
            - margin: none
          icon:
            - width: 70%
          custom_fields:
            temp:
              - align-self: start
              - justify-self: end
              - font-size: 13px
            bluetooth:
              - padding-bottom: 2px
              - align-self: middle
              - justify-self: start
              - font-size: 11px
#                  - '--text-color-sensor': >-
#                      [[[ if (states['binary_sensor.andrea_oneplus_nord_bluetooth_state'].state
#                      !== 'on') return "red"; ]]] 
            wifi:
              - padding-bottom: 2px
              - align-self: middle
              - justify-self: start
              - font-size: 11px
#                  - '--text-color-sensor': >-
#                      [[[ if (states["binary_sensor.andrea_oneplus_nord_wifi_state"].state !==
#                      'on') return "red"; ]]] 
            charging:
              - align-self: middle
              - padding-bottom: 2px
              - justify-self: start
              - font-size: 11px
#                  - '--text-color-sensor': >-
#                      [[[ if (states['sensor.andrea_oneplus_nord_battery_state'].state == 'discharging')
#                      return "red"; ]]]          
        custom_fields:
          temp: |
            [[[
              return `<ha-icon
                icon="mdi:battery-high"
                style="width: 22px; height: 22px; color: white;">
                </ha-icon><span>${entity.state}%</span>`
            ]]]
          bluetooth: |
            [[[
              return `<ha-icon
                icon="mdi:bluetooth"
                style="width: 20px; height: 20px; color: white;">
                </ha-icon><span>  Bluetooth: <span style="color: var(--text-color-sensor);">${states['binary_sensor.andrea_oneplus_nord_bluetooth_state'].state}</span></span>`
            ]]]
          wifi: |
            [[[
              return `<ha-icon
                icon="mdi:wifi"
                style="width: 20px; height: 20px; color: white;">
                </ha-icon><span>  WiFi: <span style="color: var(--text-color-sensor);">${states['binary_sensor.andrea_oneplus_nord_wifi_state'].state}</span></span>`
            ]]]
          charging: |
            [[[
              return `<ha-icon
                icon="mdi:battery-charging"
                style="width: 20px; height: 20px; color: white;">
                </ha-icon><span>  Battery Status: <span style="color: var(--text-color-sensor);">${states['sensor.andrea_oneplus_nord_battery_state'].state}</span></span>`
            ]]]
    ####################################
    ####    == Mi 9T Pro Card    == ####
    ####################################
      - type: 'custom:button-card'
        entity: sensor.sonia_mi_9t_pro_battery_level
        entity_picture: /local/mi_9t_pro.png
        show_entity_picture: true
        aspect_ratio: 1/1
        name: Mi 9T Pro
        styles:
          card:
#                - background-color: '#2b374e'
            - border-radius: 10%
            - padding: 7%
            - color: ivory
            - font-size: 10px
            - text-shadow: 0px 0px 5px black
            - text-transform: capitalize
          grid:
            - grid-template-areas: '"i temp" "n n" "bluetooth bluetooth" "wifi wifi" "charging charging"'
            - grid-template-columns: 1fr 1fr
            - grid-template-rows: 1fr min-content min-content min-content min-content
          name:
            - font-weight: bold
            - font-size: 15px
            - color: white
            - align-self: middle
            - justify-self: start
            - padding-bottom: 6px
          img_cell:
            - justify-content: start
            - align-items: start
            - margin: none
          icon:
            - width: 70%
          custom_fields:
            temp:
              - align-self: start
              - justify-self: end
              - font-size: 13px
            bluetooth:
              - padding-bottom: 2px
              - align-self: middle
              - justify-self: start
              - font-size: 11px
#                  - '--text-color-sensor': >-
#                      [[[ if (states['binary_sensor.sonia_mi_9t_pro_bluetooth_state'].state
#                      !== 'on') return "red"; ]]] 
            wifi:
              - padding-bottom: 2px
              - align-self: middle
              - justify-self: start
              - font-size: 11px
#                  - '--text-color-sensor': >-
#                      [[[ if (states["binary_sensor.sonia_mi_9t_pro_wifi_state"].state !== 'on') return "red";
#                      ]]] 
            charging:
              - align-self: middle
              - padding-bottom: 2px
              - justify-self: start
              - font-size: 11px
#                  - '--text-color-sensor': >-
#                      [[[ if (states['sensor.sonia_mi_9t_pro_battery_state'].state !== 'charging')
#                      return "red"; ]]]          
        custom_fields:
          temp: |
            [[[
              return `<ha-icon
                icon="mdi:battery-high"
                style="width: 22px; height: 22px; color: white;">
                </ha-icon><span>${entity.state}%</span>`
            ]]]
          bluetooth: |
            [[[
              return `<ha-icon
                icon="mdi:bluetooth"
                style="width: 20px; height: 20px; color: white;">
                </ha-icon><span>  Bluetooth: <span style="color: var(--text-color-sensor);">${states['binary_sensor.sonia_mi_9t_pro_bluetooth_state'].state}</span></span>`
            ]]]
          wifi: |
            [[[
              return `<ha-icon
                icon="mdi:wifi"
                style="width: 20px; height: 20px; color: white;">
                </ha-icon><span>  WiFi: <span style="color: var(--text-color-sensor);">${states['binary_sensor.sonia_mi_9t_pro_wifi_state'].state}</span></span>`
            ]]]
          charging: |
            [[[
              return `<ha-icon
                icon="mdi:battery-charging"
                style="width: 20px; height: 20px; color: white;">
                </ha-icon><span>  Battery Status: <span style="color: var(--text-color-sensor);">${states['sensor.sonia_mi_9t_pro_battery_state'].state}</span></span>`
            ]]]

  - type: custom:layout-break
  - type: entities
    title: Studio
    show_header_toggle: false
    entities:
      - type: custom:light-brightness-preset-row
        entity: light.studio_desk_sonia_lamp
        name: Sonia Desk Lamp
        customSetpoints: true
        LowBrightness: 50
        MedBrightness: 125
        HiBrightness: 255
        customTheme: true
        IsOffColor: '#B30000'
        IsOnColor: '#FFFF00'
        IsOnLowColor: '#248F24'
        IsOnMedColor: '#248F24'
        IsOnHiColor: '#248F24'
        ButtonInactiveColor: '#000000'
      - type: custom:light-brightness-preset-row
        entity: light.studio_wall_light
        name: Wall Light
        customSetpoints: true
        LowBrightness: 50
        MedBrightness: 125
        HiBrightness: 255
        customTheme: true
        IsOffColor: '#B30000'
        IsOnColor: '#FFFF00'
        IsOnLowColor: '#248F24'
        IsOnMedColor: '#248F24'
        IsOnHiColor: '#248F24'
        ButtonInactiveColor: '#000000'
