---
andrea:
  card:
    type: custom:hui-entities-card
    show_header_toggle: false
    entities:
      - entity: person.andrea_iannucci
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "Next Birthday in [[ sensor.birthday_andrea ]] Days ([[ sensor.birthday_andrea.attributes.years ]])"
        tap_action:
          action: none
      - entity: sensor.andrea_oneplus5_battery
        name: "OnePlus 5"
        type: "custom:secondaryinfo-entity-row"
#        secondary_info: "WiFi: [[ if(binary_sensor.andrea_oneplus5_wifi == 'on', 'Connected', if(binary_sensor.andrea_oneplus5_wifi == 'off', 'Disconnected', 'Unknown')) ]] [[ if(binary_sensor.andrea_oneplus5_charging == 'on', ' - Charging', '' ) ]]"
        secondary_info: "WiFi: [[ if(sensor.andrea_oneplus5_wifi.attributes.bssid != 'null', 'Connected', if(sensor.andrea_oneplus5_wifi.attributes.bssid == 'null', 'Disconnected', 'Unknown')) ]] [[ if(sensor.andrea_oneplus5_battery.attributes.is_charging == 'true', ' - Charging', '' ) ]]"
#        secondary_info: "WiFi: [[ if(sensor.andrea_oneplus5_wifi != '<not connected>', 'Connected to {{ sensor.andrea_oneplus5_wifi }}', if(sensor.andrea_oneplus5_wifi == '<not connected>', 'Disconnected', 'Unknown')) ]] [[ if(sensor.andrea_oneplus5_battery.attributes.is_charging == 'true', ' - Charging', '' ) ]]"
        tap_action:
          action: none
        style: |
          :host {
            --paper-item-icon-color:
            {% if is_state(config.entity, 'unknown') %}
                rgb(128, 128, 128);
            {% elif states(config.entity)|int > 100 %}
                rgb(128, 128, 128);
            {% elif states(config.entity)|int >= 80 %}
                rgb(0, 153, 51);
            {% elif states(config.entity)|int >= 60 %}
                rgb(0, 153, 0);
            {% elif states(config.entity)|int >= 40 %}
                rgb(255, 128, 0);
            {% elif states(config.entity)|int >= 20 %}
                rgb(204, 102, 0);
            {% elif states(config.entity)|int >= 0 %}
                rgb(153, 0, 0);
            {% else %}
                rgb(128, 128, 128);
            {% endif %}
          }
      - entity: sensor.andrea_honor8_battery
        name: "Honor 8"
        type: "custom:secondaryinfo-entity-row"
#        secondary_info: "WiFi: [[ if(binary_sensor.andrea_honor8_wifi == 'on', 'Connected', if(binary_sensor.andrea_honor8_wifi == 'off', 'Disconnected', 'Unknown')) ]] [[ if(binary_sensor.andrea_honor8_charging == 'on', ' - Charging', '' ) ]]"
        secondary_info: "WiFi: [[ if(binary_sensor.andrea_honor8_wifi == 'on', 'Connected', if(binary_sensor.andrea_honor8_wifi == 'off', 'Disconnected', 'Unknown')) ]] [[ if(binary_sensor.andrea_honor8_charging == 'on', ' - Charging', if(input_boolean.andrea_honor8_charging == 'on', ' - Charging', '' )) ]]"
        tap_action:
          action: none
        style: |
          :host {
            --paper-item-icon-color:
              {% if is_state(config.entity, 'unknown') %}
                rgb(128, 128, 128);
              {% elif states(config.entity)|int > 100 %}
                rgb(128, 128, 128);
              {% elif states(config.entity)|int >= 80 %}
                rgb(0, 153, 51);
              {% elif states(config.entity)|int >= 60 %}
                rgb(0, 153, 0);
              {% elif states(config.entity)|int >= 40 %}
                rgb(255, 128, 0);
              {% elif states(config.entity)|int >= 20 %}
                rgb(204, 102, 0);
              {% elif states(config.entity)|int >= 0 %}
                rgb(153, 0, 0);
              {% else %}
                rgb(128, 128, 128);
              {% endif %}
          }
      - entity: sensor.andrea_xt1032_battery
        name: "Motorola XT1032"
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "WiFi: [[ if(binary_sensor.andrea_xt1032_wifi == 'on', 'Connected', if(binary_sensor.andrea_xt1032_wifi == 'off', 'Disconnected', 'Unknown')) ]] [[ if(binary_sensor.andrea_xt1032_charging == 'on', ' - Charging', if(input_boolean.andrea_xt1032_charging == 'on', ' - Charging', '' )) ]]"
        tap_action:
          action: none
        style: |
          :host {
            --paper-item-icon-color:
            {% if is_state(config.entity, 'unknown') %}
                rgb(128, 128, 128);
            {% elif states(config.entity)|int > 100 %}
                rgb(128, 128, 128);
            {% elif states(config.entity)|int >= 80 %}
                rgb(0, 153, 51);
            {% elif states(config.entity)|int >= 60 %}
                rgb(0, 153, 0);
            {% elif states(config.entity)|int >= 40 %}
                rgb(255, 128, 0);
            {% elif states(config.entity)|int >= 20 %}
                rgb(204, 102, 0);
            {% elif states(config.entity)|int >= 0 %}
                rgb(153, 0, 0);
            {% else %}
                rgb(128, 128, 128);
            {% endif %}
          }
      - entity: sensor.andrea_shield_battery
        name: "NVIDIA Shield K1"
        type: "custom:secondaryinfo-entity-row"
#        secondary_info: "WiFi: [[ if(binary_sensor.andrea_shield_wifi == 'on', 'Connected', if(binary_sensor.andrea_shield_wifi == 'off', 'Disconnected', 'Unknown')) ]] [[ if(binary_sensor.andrea_shield_charging == 'on', ' - Charging', '' ) ]]"
        secondary_info: "WiFi: [[ if(input_boolean.andrea_shield_wifi == 'on', 'Connected', if(input_boolean.andrea_shield_wifi == 'off', 'Disconnected', 'Unknown')) ]] [[ if(input_boolean.andrea_shield_charging == 'on', ' - Charging', '' ) ]]"
        tap_action:
          action: none
        style: |
          :host {
            --paper-item-icon-color:
            {% if is_state(config.entity, 'unknown') %}
                rgb(128, 128, 128);
            {% elif states(config.entity)|int > 100 %}
                rgb(128, 128, 128);
            {% elif states(config.entity)|int >= 80 %}
                rgb(0, 153, 51);
            {% elif states(config.entity)|int >= 60 %}
                rgb(0, 153, 0);
            {% elif states(config.entity)|int >= 40 %}
                rgb(255, 128, 0);
            {% elif states(config.entity)|int >= 20 %}
                rgb(204, 102, 0);
            {% elif states(config.entity)|int >= 0 %}
                rgb(153, 0, 0);
            {% else %}
                rgb(128, 128, 128);
            {% endif %}
          }
